(function(){!function(){var o="jLDBI";return jQuery.jLoadData=function(e,t){var n=this;return this.element=e,this.$element=jQuery(e),this.$element.data(o,this),this.init=function(){return n._o=jQuery.extend({},jQuery.jLoadData.defaultOptions,t),n.loading=!1,n.bound_element=n.$element,n.min_scroll_down_at=270,n.cur_page=n._o.initial_page,n.load_type={0:"Append",1:"Prepend",2:"Assign"},n.al_pl_upto=n._o.al_pl_upto,n.element_result_container=n.bound_element.find(n._o.s_result_div),n.ScrollTo(),n.BindLoadMoreResultButton(),n.BindScrollEvent(),n.BindPagination(),n},this.InactivePlugin=function(){n.UnBindScrollEvent(),n.UnBindLoadMoreResultButton(),n.UnBindPagination(),n.bound_element.data(o,null)},this.GetFormData=function(o){var e=jQuery(o).serializeArray();return e},this.GetSearchResult=function(o,e,t){if(o&&""!=o||(o=n.load_type[2]),t&&""!=t||(t="scroll"),e&&""!=e)var l=e;else var l=parseFloat(n.cur_page)+1;n.LoadMoreResult(o,l,t)},this.LoadMoreResult=function(o,e,t){if(0==Loading){n.cur_page=parseFloat(e);var l=n.GetFormData(n._o.s_sc_form);jQuery.merge(l,n.GetFormData(n._o.s_sf_form)),l.push({name:"page",value:n.cur_page}),l.push({name:"intention",value:t}),l.push({name:"load_type",value:o}),l.push({name:"load_direction",value:n._o.scroll_direction}),l.push({name:"s_bound_id",value:n.bound_element.attr("id")}),l.push({name:"s_result_div",value:n._o.s_result_div}),l.push({name:"s_lbm_div",value:n._o.s_lbm_div}),l.push({name:"s_load_button",value:n._o.s_load_button}),l.push({name:"s_sf_form",value:n._o.s_sf_form}),l.push({name:"s_sc_form",value:n._o.s_sc_form}),l.push({name:"s_pagination_div",value:n._o.s_pagination_div}),n._o.fn_load_result(l)}},this.ScrollTo=function(o){n._o.e_autoload===!0&&"UP"==n._o.scroll_direction&&(n.objRC=n.bound_element[0],o||(o=n.objRC.scrollHeight),n.objRC.scrollTop=o)},this.BindPagination=function(){n._o.e_pagination===!0&&(n.element_pagination_pagenumber=jQuery(n._o.s_page_num),n.element_pagination_pagenumber.length>0&&n.element_pagination_pagenumber.each(function(){var o=jQuery(this).attr("href");"undefined"!=typeof o&&o!==!1&&jQuery(this).attr("href","javascript:void(0);"),jQuery(this).unbind("click"),jQuery(this).on("click",function(){var o=jQuery(this).attr(n._o.va_page_num);n.GetSearchResult(n.load_type[2],o,"paging")})}))},this.UnBindPagination=function(){n._o.e_pagination===!0&&n.element_pagination_pagenumber.length>0&&n.element_pagination_pagenumber.each(function(){jQuery(this).unbind("click")})},this.BindScrollEvent=function(){n._o.e_autoload===!0&&1==n._o.load_on_scroll&&(1==n._o.on_window_scroll?(n.scroll_on=jQuery(window),n.old_scroll_top=n.scroll_on.scrollTop(),n.scroll_on.on("scroll",function(){var o=jQuery(n._o.s_load_button);if(1==o.length){var e=o.offset().top.toFixed(0),t=n.scroll_on.scrollTop(),l=n.scroll_on.height();"DOWN"==n._o.scroll_direction&&n.cur_page<=n._o.al_pl_upto?t+l+400>=e&&n.GetSearchResult(n.load_type[0]):"UP"==n._o.scroll_direction&&n.old_scroll_top>t&&300>=t&&n.GetSearchResult(n.load_type[1]),n.old_scroll_top=t}})):(n.scroll_on=n.bound_element,n.old_scroll_top=n.scroll_on.scrollTop(),n.scroll_on.on("scroll",function(){var o=jQuery(n._o.s_load_button);if(1==o.length){var e=o.offset().top.toFixed(0),t=n.scroll_on.scrollTop(),l=n.scroll_on.height();"DOWN"==n._o.scroll_direction?t+l>=e&&n.GetSearchResult(n.load_type[0]):"UP"==n._o.scroll_direction&&n.old_scroll_top>t&&0==t&&(n.ScrollTo(n.min_scroll_down_at),n.GetSearchResult(n.load_type[1])),n.old_scroll_top=t}})))},this.UnBindScrollEvent=function(){n._o.e_autoload===!0&&n.scroll_on.unbind("scroll")},this.BindLoadMoreResultButton=function(){n._o.e_autoload===!0&&(n.element_load_more_result_button=jQuery(n._o.s_load_button),n.element_load_more_result_button.unbind("click"),1==n.element_load_more_result_button.length&&(1==n.cur_page&&(n._o.al_pl_upto=n.al_pl_upto),n.element_load_more_result_button.on("click",function(){n._o.continue_autoload===!0&&(n._o.al_pl_upto=parseFloat(parseFloat(n.cur_page)+parseFloat(n.al_pl_upto)));var o=n.load_type[0];"UP"==n._o.scroll_direction&&(n.ScrollTo(n.min_scroll_down_at),o=n.load_type[1]),n.GetSearchResult(o)})))},this.UnBindLoadMoreResultButton=function(){n.element_load_more_result_button&&n.element_load_more_result_button.unbind("click")},this.init()},jQuery.jLoadData.defaultOptions={initial_page:1,e_pagination:!1,e_autoload:!0,al_pl_upto:9,load_on_scroll:!0,scroll_direction:"DOWN",on_window_scroll:!0,continue_autoload:!0,s_result_div:"#result-container",s_lbm_div:"#loading-btnmsg-container",s_load_button:"#element-load-more-result",s_sf_form:"#search-filter-form",s_sc_form:"#search-criteria-form",s_pagination_div:"#pagination-container",s_t_record:"#t-records",va_page_num:"data-load-page",fn_load_result:function(){}},void(jQuery.fn.jLoadData=function(e){return jQuery.each(this,function(t,n){var l;l=jQuery(n),l.length>0&&(l.data(o)&&null!=l.data(o)&&""!=l.data(o)||l.data(o,new jQuery.jLoadData(n,e)))})})}(jQuery)}).call(this);